/* Pixbuf.c generated by valac 0.36.8, the Vala compiler
 * generated from Pixbuf.vala, do not modify */

/*-
 * Copyright (c) 2018-2018 Artem Anufrij <artem.anufrij@live.de>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * The Noise authors hereby grant permission for non-GPL compatible
 * GStreamer plugins to be used and distributed together with GStreamer
 * and Noise. This permission is above and beyond the permissions granted
 * by the GPL license by which Noise is covered. If you modify this code
 * you may extend this exception to your version of the code, but you are not
 * obligated to do so. If you do not wish to do so, delete this exception
 * statement from your version.
 *
 * Authored by: Artem Anufrij <artem.anufrij@live.de>
 */

#include <glib.h>
#include <glib-object.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <float.h>
#include <math.h>

#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))



GdkPixbuf* show_my_pictures_utils_align_and_scale_pixbuf_for_preview (GdkPixbuf* p);
GdkPixbuf* show_my_pictures_utils_align_and_scale_pixbuf_for_cover (GdkPixbuf* p);


static gpointer _g_object_ref0 (gpointer self) {
#line 30 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	return self ? g_object_ref (self) : NULL;
#line 49 "Pixbuf.c"
}


GdkPixbuf* show_my_pictures_utils_align_and_scale_pixbuf_for_preview (GdkPixbuf* p) {
	GdkPixbuf* result = NULL;
	GdkPixbuf* pixbuf = NULL;
	GdkPixbuf* _tmp0_;
	GdkPixbuf* _tmp1_;
	gint dest_height = 0;
	gint dest_width = 0;
	gint height = 0;
	GdkPixbuf* _tmp2_;
	gint _tmp3_;
	gint _tmp4_;
	gint width = 0;
	GdkPixbuf* _tmp5_;
	gint _tmp6_;
	gint _tmp7_;
	GdkPixbuf* _tmp8_;
	gint _tmp9_;
	GdkPixbuf* _tmp10_;
#line 29 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	g_return_val_if_fail (p != NULL, NULL);
#line 30 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp0_ = p;
#line 30 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 30 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	pixbuf = _tmp1_;
#line 32 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	dest_height = 256;
#line 33 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	dest_width = 0;
#line 35 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp2_ = pixbuf;
#line 35 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp3_ = gdk_pixbuf_get_height (_tmp2_);
#line 35 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp4_ = _tmp3_;
#line 35 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	height = _tmp4_;
#line 36 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp5_ = pixbuf;
#line 36 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp6_ = gdk_pixbuf_get_width (_tmp5_);
#line 36 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp7_ = _tmp6_;
#line 36 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	width = _tmp7_;
#line 38 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	dest_width = (gint) (width * (((gdouble) dest_height) / height));
#line 39 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp8_ = pixbuf;
#line 39 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp9_ = dest_width;
#line 39 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp10_ = gdk_pixbuf_scale_simple (_tmp8_, _tmp9_, dest_height, GDK_INTERP_BILINEAR);
#line 39 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_g_object_unref0 (pixbuf);
#line 39 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	pixbuf = _tmp10_;
#line 40 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	result = pixbuf;
#line 40 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	return result;
#line 115 "Pixbuf.c"
}


GdkPixbuf* show_my_pictures_utils_align_and_scale_pixbuf_for_cover (GdkPixbuf* p) {
	GdkPixbuf* result = NULL;
	GdkPixbuf* pixbuf = NULL;
	GdkPixbuf* _tmp0_;
	GdkPixbuf* _tmp1_;
	GdkPixbuf* _tmp2_;
	gint _tmp3_;
	gint _tmp4_;
	GdkPixbuf* _tmp5_;
	gint _tmp6_;
	gint _tmp7_;
	GdkPixbuf* _tmp44_;
	GdkPixbuf* _tmp45_;
#line 43 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	g_return_val_if_fail (p != NULL, NULL);
#line 44 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp0_ = p;
#line 44 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 44 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	pixbuf = _tmp1_;
#line 45 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp2_ = pixbuf;
#line 45 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp3_ = gdk_pixbuf_get_width (_tmp2_);
#line 45 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp4_ = _tmp3_;
#line 45 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp5_ = pixbuf;
#line 45 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp6_ = gdk_pixbuf_get_height (_tmp5_);
#line 45 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp7_ = _tmp6_;
#line 45 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	if (_tmp4_ != _tmp7_) {
#line 154 "Pixbuf.c"
		GdkPixbuf* _tmp8_;
		gint _tmp9_;
		gint _tmp10_;
		GdkPixbuf* _tmp11_;
		gint _tmp12_;
		gint _tmp13_;
#line 46 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
		_tmp8_ = pixbuf;
#line 46 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
		_tmp9_ = gdk_pixbuf_get_width (_tmp8_);
#line 46 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
		_tmp10_ = _tmp9_;
#line 46 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
		_tmp11_ = pixbuf;
#line 46 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
		_tmp12_ = gdk_pixbuf_get_height (_tmp11_);
#line 46 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
		_tmp13_ = _tmp12_;
#line 46 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
		if (_tmp10_ > _tmp13_) {
#line 175 "Pixbuf.c"
			gint dif = 0;
			GdkPixbuf* _tmp14_;
			gint _tmp15_;
			gint _tmp16_;
			GdkPixbuf* _tmp17_;
			gint _tmp18_;
			gint _tmp19_;
			GdkPixbuf* _tmp20_;
			gint _tmp21_;
			GdkPixbuf* _tmp22_;
			gint _tmp23_;
			gint _tmp24_;
			GdkPixbuf* _tmp25_;
			gint _tmp26_;
			gint _tmp27_;
			GdkPixbuf* _tmp28_;
#line 47 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp14_ = pixbuf;
#line 47 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp15_ = gdk_pixbuf_get_width (_tmp14_);
#line 47 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp16_ = _tmp15_;
#line 47 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp17_ = pixbuf;
#line 47 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp18_ = gdk_pixbuf_get_height (_tmp17_);
#line 47 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp19_ = _tmp18_;
#line 47 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			dif = (_tmp16_ - _tmp19_) / 2;
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp20_ = pixbuf;
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp21_ = dif;
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp22_ = pixbuf;
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp23_ = gdk_pixbuf_get_height (_tmp22_);
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp24_ = _tmp23_;
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp25_ = pixbuf;
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp26_ = gdk_pixbuf_get_height (_tmp25_);
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp27_ = _tmp26_;
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp28_ = gdk_pixbuf_new_subpixbuf (_tmp20_, _tmp21_, 0, _tmp24_, _tmp27_);
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_g_object_unref0 (pixbuf);
#line 48 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			pixbuf = _tmp28_;
#line 228 "Pixbuf.c"
		} else {
			gint dif = 0;
			GdkPixbuf* _tmp29_;
			gint _tmp30_;
			gint _tmp31_;
			GdkPixbuf* _tmp32_;
			gint _tmp33_;
			gint _tmp34_;
			GdkPixbuf* _tmp35_;
			gint _tmp36_;
			GdkPixbuf* _tmp37_;
			gint _tmp38_;
			gint _tmp39_;
			GdkPixbuf* _tmp40_;
			gint _tmp41_;
			gint _tmp42_;
			GdkPixbuf* _tmp43_;
#line 50 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp29_ = pixbuf;
#line 50 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp30_ = gdk_pixbuf_get_height (_tmp29_);
#line 50 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp31_ = _tmp30_;
#line 50 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp32_ = pixbuf;
#line 50 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp33_ = gdk_pixbuf_get_width (_tmp32_);
#line 50 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp34_ = _tmp33_;
#line 50 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			dif = (_tmp31_ - _tmp34_) / 2;
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp35_ = pixbuf;
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp36_ = dif;
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp37_ = pixbuf;
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp38_ = gdk_pixbuf_get_width (_tmp37_);
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp39_ = _tmp38_;
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp40_ = pixbuf;
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp41_ = gdk_pixbuf_get_width (_tmp40_);
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp42_ = _tmp41_;
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_tmp43_ = gdk_pixbuf_new_subpixbuf (_tmp35_, 0, _tmp36_, _tmp39_, _tmp42_);
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			_g_object_unref0 (pixbuf);
#line 51 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
			pixbuf = _tmp43_;
#line 282 "Pixbuf.c"
		}
	}
#line 54 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp44_ = pixbuf;
#line 54 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_tmp45_ = gdk_pixbuf_scale_simple (_tmp44_, 192, 192, GDK_INTERP_BILINEAR);
#line 54 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	_g_object_unref0 (pixbuf);
#line 54 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	pixbuf = _tmp45_;
#line 55 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	result = pixbuf;
#line 55 "/home/artem/Projekte/showmypictures/src/Utils/Pixbuf.vala"
	return result;
#line 297 "Pixbuf.c"
}



