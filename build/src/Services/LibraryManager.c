/* LibraryManager.c generated by valac 0.36.8, the Vala compiler
 * generated from LibraryManager.vala, do not modify */

/*-
 * Copyright (c) 2018-2018 Artem Anufrij <artem.anufrij@live.de>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * The Noise authors hereby grant permission for non-GPL compatible
 * GStreamer plugins to be used and distributed together with GStreamer
 * and Noise. This permission is above and beyond the permissions granted
 * by the GPL license by which Noise is covered. If you modify this code
 * you may extend this exception to your version of the code, but you are not
 * obligated to do so. If you do not wish to do so, delete this exception
 * statement from your version.
 *
 * Authored by: Artem Anufrij <artem.anufrij@live.de>
 */

#include <glib.h>
#include <glib-object.h>
#include <granite.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>


#define SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER (show_my_pictures_services_library_manager_get_type ())
#define SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, ShowMyPicturesServicesLibraryManager))
#define SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, ShowMyPicturesServicesLibraryManagerClass))
#define SHOW_MY_PICTURES_SERVICES_IS_LIBRARY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER))
#define SHOW_MY_PICTURES_SERVICES_IS_LIBRARY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER))
#define SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, ShowMyPicturesServicesLibraryManagerClass))

typedef struct _ShowMyPicturesServicesLibraryManager ShowMyPicturesServicesLibraryManager;
typedef struct _ShowMyPicturesServicesLibraryManagerClass ShowMyPicturesServicesLibraryManagerClass;
typedef struct _ShowMyPicturesServicesLibraryManagerPrivate ShowMyPicturesServicesLibraryManagerPrivate;

#define SHOW_MY_PICTURES_TYPE_SETTINGS (show_my_pictures_settings_get_type ())
#define SHOW_MY_PICTURES_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SHOW_MY_PICTURES_TYPE_SETTINGS, ShowMyPicturesSettings))
#define SHOW_MY_PICTURES_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SHOW_MY_PICTURES_TYPE_SETTINGS, ShowMyPicturesSettingsClass))
#define SHOW_MY_PICTURES_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SHOW_MY_PICTURES_TYPE_SETTINGS))
#define SHOW_MY_PICTURES_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SHOW_MY_PICTURES_TYPE_SETTINGS))
#define SHOW_MY_PICTURES_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SHOW_MY_PICTURES_TYPE_SETTINGS, ShowMyPicturesSettingsClass))

typedef struct _ShowMyPicturesSettings ShowMyPicturesSettings;
typedef struct _ShowMyPicturesSettingsClass ShowMyPicturesSettingsClass;

#define SHOW_MY_PICTURES_SERVICES_TYPE_DATA_BASE_MANAGER (show_my_pictures_services_data_base_manager_get_type ())
#define SHOW_MY_PICTURES_SERVICES_DATA_BASE_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_DATA_BASE_MANAGER, ShowMyPicturesServicesDataBaseManager))
#define SHOW_MY_PICTURES_SERVICES_DATA_BASE_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SHOW_MY_PICTURES_SERVICES_TYPE_DATA_BASE_MANAGER, ShowMyPicturesServicesDataBaseManagerClass))
#define SHOW_MY_PICTURES_SERVICES_IS_DATA_BASE_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_DATA_BASE_MANAGER))
#define SHOW_MY_PICTURES_SERVICES_IS_DATA_BASE_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SHOW_MY_PICTURES_SERVICES_TYPE_DATA_BASE_MANAGER))
#define SHOW_MY_PICTURES_SERVICES_DATA_BASE_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_DATA_BASE_MANAGER, ShowMyPicturesServicesDataBaseManagerClass))

typedef struct _ShowMyPicturesServicesDataBaseManager ShowMyPicturesServicesDataBaseManager;
typedef struct _ShowMyPicturesServicesDataBaseManagerClass ShowMyPicturesServicesDataBaseManagerClass;

#define SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER (show_my_pictures_services_local_files_manager_get_type ())
#define SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, ShowMyPicturesServicesLocalFilesManager))
#define SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, ShowMyPicturesServicesLocalFilesManagerClass))
#define SHOW_MY_PICTURES_SERVICES_IS_LOCAL_FILES_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER))
#define SHOW_MY_PICTURES_SERVICES_IS_LOCAL_FILES_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER))
#define SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, ShowMyPicturesServicesLocalFilesManagerClass))

typedef struct _ShowMyPicturesServicesLocalFilesManager ShowMyPicturesServicesLocalFilesManager;
typedef struct _ShowMyPicturesServicesLocalFilesManagerClass ShowMyPicturesServicesLocalFilesManagerClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_thread_unref0(var) ((var == NULL) ? NULL : (var = (g_thread_unref (var), NULL)))
typedef struct _ShowMyPicturesServicesLibraryManagerSyncLibraryContentData ShowMyPicturesServicesLibraryManagerSyncLibraryContentData;

#define SHOW_MY_PICTURES_OBJECTS_TYPE_PICTURE (show_my_pictures_objects_picture_get_type ())
#define SHOW_MY_PICTURES_OBJECTS_PICTURE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SHOW_MY_PICTURES_OBJECTS_TYPE_PICTURE, ShowMyPicturesObjectsPicture))
#define SHOW_MY_PICTURES_OBJECTS_PICTURE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SHOW_MY_PICTURES_OBJECTS_TYPE_PICTURE, ShowMyPicturesObjectsPictureClass))
#define SHOW_MY_PICTURES_OBJECTS_IS_PICTURE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SHOW_MY_PICTURES_OBJECTS_TYPE_PICTURE))
#define SHOW_MY_PICTURES_OBJECTS_IS_PICTURE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SHOW_MY_PICTURES_OBJECTS_TYPE_PICTURE))
#define SHOW_MY_PICTURES_OBJECTS_PICTURE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SHOW_MY_PICTURES_OBJECTS_TYPE_PICTURE, ShowMyPicturesObjectsPictureClass))

typedef struct _ShowMyPicturesObjectsPicture ShowMyPicturesObjectsPicture;
typedef struct _ShowMyPicturesObjectsPictureClass ShowMyPicturesObjectsPictureClass;

#define SHOW_MY_PICTURES_OBJECTS_TYPE_ALBUM (show_my_pictures_objects_album_get_type ())
#define SHOW_MY_PICTURES_OBJECTS_ALBUM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SHOW_MY_PICTURES_OBJECTS_TYPE_ALBUM, ShowMyPicturesObjectsAlbum))
#define SHOW_MY_PICTURES_OBJECTS_ALBUM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SHOW_MY_PICTURES_OBJECTS_TYPE_ALBUM, ShowMyPicturesObjectsAlbumClass))
#define SHOW_MY_PICTURES_OBJECTS_IS_ALBUM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SHOW_MY_PICTURES_OBJECTS_TYPE_ALBUM))
#define SHOW_MY_PICTURES_OBJECTS_IS_ALBUM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SHOW_MY_PICTURES_OBJECTS_TYPE_ALBUM))
#define SHOW_MY_PICTURES_OBJECTS_ALBUM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SHOW_MY_PICTURES_OBJECTS_TYPE_ALBUM, ShowMyPicturesObjectsAlbumClass))

typedef struct _ShowMyPicturesObjectsAlbum ShowMyPicturesObjectsAlbum;
typedef struct _ShowMyPicturesObjectsAlbumClass ShowMyPicturesObjectsAlbumClass;
#define _g_free0(var) (var = (g_free (var), NULL))
enum  {
	SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_ADDED_NEW_ALBUM_SIGNAL,
	SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_NUM_SIGNALS
};
static guint show_my_pictures_services_library_manager_signals[SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_NUM_SIGNALS] = {0};

struct _ShowMyPicturesServicesLibraryManager {
	GObject parent_instance;
	ShowMyPicturesServicesLibraryManagerPrivate * priv;
};

struct _ShowMyPicturesServicesLibraryManagerClass {
	GObjectClass parent_class;
};

struct _ShowMyPicturesServicesLibraryManagerPrivate {
	ShowMyPicturesSettings* settings;
	ShowMyPicturesServicesDataBaseManager* _db_manager;
	ShowMyPicturesServicesLocalFilesManager* _lf_manager;
};

struct _ShowMyPicturesServicesLibraryManagerSyncLibraryContentData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	ShowMyPicturesServicesLibraryManager* self;
	GThread* _tmp0_;
	GThread* _tmp1_;
};


static gpointer show_my_pictures_services_library_manager_parent_class = NULL;
static ShowMyPicturesServicesLibraryManager* show_my_pictures_services_library_manager__instance;
static ShowMyPicturesServicesLibraryManager* show_my_pictures_services_library_manager__instance = NULL;

GType show_my_pictures_services_library_manager_get_type (void) G_GNUC_CONST;
GType show_my_pictures_settings_get_type (void) G_GNUC_CONST;
GType show_my_pictures_services_data_base_manager_get_type (void) G_GNUC_CONST;
GType show_my_pictures_services_local_files_manager_get_type (void) G_GNUC_CONST;
#define SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, ShowMyPicturesServicesLibraryManagerPrivate))
enum  {
	SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_0_PROPERTY,
	SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_DB_MANAGER_PROPERTY,
	SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_LF_MANAGER_PROPERTY,
	SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_ALBUMS_PROPERTY
};
static ShowMyPicturesServicesLibraryManager* show_my_pictures_services_library_manager_new (void);
static ShowMyPicturesServicesLibraryManager* show_my_pictures_services_library_manager_construct (GType object_type);
static void show_my_pictures_services_library_manager_sync_library_content_data_free (gpointer _data);
void show_my_pictures_services_library_manager_sync_library_content (ShowMyPicturesServicesLibraryManager* self, GAsyncReadyCallback _callback_, gpointer _user_data_);
void show_my_pictures_services_library_manager_sync_library_content_finish (ShowMyPicturesServicesLibraryManager* self, GAsyncResult* _res_);
static gboolean show_my_pictures_services_library_manager_sync_library_content_co (ShowMyPicturesServicesLibraryManagerSyncLibraryContentData* _data_);
static void* __lambda5_ (ShowMyPicturesServicesLibraryManager* self);
void show_my_pictures_services_library_manager_scan_local_library_for_new_files (ShowMyPicturesServicesLibraryManager* self, const gchar* path);
const gchar* show_my_pictures_settings_get_library_location (ShowMyPicturesSettings* self);
static gpointer ___lambda5__gthread_func (gpointer self);
void show_my_pictures_services_library_manager_found_local_image_file (ShowMyPicturesServicesLibraryManager* self, const gchar* path);
ShowMyPicturesServicesDataBaseManager* show_my_pictures_services_library_manager_get_db_manager (ShowMyPicturesServicesLibraryManager* self);
gboolean show_my_pictures_services_data_base_manager_picture_file_exists (ShowMyPicturesServicesDataBaseManager* self, const gchar* path);
static void show_my_pictures_services_library_manager_insert_picture_file (ShowMyPicturesServicesLibraryManager* self, const gchar* path);
ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_library_manager_get_lf_manager (ShowMyPicturesServicesLibraryManager* self);
void show_my_pictures_services_local_files_manager_scan (ShowMyPicturesServicesLocalFilesManager* self, const gchar* path);
GType show_my_pictures_objects_picture_get_type (void) G_GNUC_CONST;
GType show_my_pictures_objects_album_get_type (void) G_GNUC_CONST;
ShowMyPicturesObjectsPicture* show_my_pictures_objects_picture_new (ShowMyPicturesObjectsAlbum* album);
ShowMyPicturesObjectsPicture* show_my_pictures_objects_picture_construct (GType object_type, ShowMyPicturesObjectsAlbum* album);
void show_my_pictures_objects_picture_set_path (ShowMyPicturesObjectsPicture* self, const gchar* value);
void show_my_pictures_objects_picture_set_mime_type (ShowMyPicturesObjectsPicture* self, const gchar* value);
ShowMyPicturesObjectsAlbum* show_my_pictures_objects_album_new (const gchar* title);
ShowMyPicturesObjectsAlbum* show_my_pictures_objects_album_construct (GType object_type, const gchar* title);
gint show_my_pictures_objects_picture_get_year (ShowMyPicturesObjectsPicture* self);
void show_my_pictures_objects_album_set_year (ShowMyPicturesObjectsAlbum* self, gint value);
gint show_my_pictures_objects_picture_get_month (ShowMyPicturesObjectsPicture* self);
void show_my_pictures_objects_album_set_month (ShowMyPicturesObjectsAlbum* self, gint value);
gint show_my_pictures_objects_picture_get_day (ShowMyPicturesObjectsPicture* self);
void show_my_pictures_objects_album_set_day (ShowMyPicturesObjectsAlbum* self, gint value);
gchar* show_my_pictures_utils_get_default_album_title (gint year, gint month, gint day);
gint show_my_pictures_objects_album_get_year (ShowMyPicturesObjectsAlbum* self);
gint show_my_pictures_objects_album_get_month (ShowMyPicturesObjectsAlbum* self);
gint show_my_pictures_objects_album_get_day (ShowMyPicturesObjectsAlbum* self);
void show_my_pictures_objects_album_set_title (ShowMyPicturesObjectsAlbum* self, const gchar* value);
ShowMyPicturesObjectsAlbum* show_my_pictures_services_data_base_manager_insert_album_if_not_exists (ShowMyPicturesServicesDataBaseManager* self, ShowMyPicturesObjectsAlbum* new_album);
gint show_my_pictures_objects_album_get_ID (ShowMyPicturesObjectsAlbum* self);
void show_my_pictures_objects_album_add_picture_if_not_exists (ShowMyPicturesObjectsAlbum* self, ShowMyPicturesObjectsPicture* new_picture);
gint show_my_pictures_objects_picture_get_ID (ShowMyPicturesObjectsPicture* self);
void show_my_pictures_objects_picture_create_preview (ShowMyPicturesObjectsPicture* self, GAsyncReadyCallback _callback_, gpointer _user_data_);
void show_my_pictures_objects_picture_create_preview_finish (ShowMyPicturesObjectsPicture* self, GAsyncResult* _res_);
ShowMyPicturesServicesLibraryManager* show_my_pictures_services_library_manager_get_instance (void);
void show_my_pictures_services_library_manager_set_db_manager (ShowMyPicturesServicesLibraryManager* self, ShowMyPicturesServicesDataBaseManager* value);
void show_my_pictures_services_library_manager_set_lf_manager (ShowMyPicturesServicesLibraryManager* self, ShowMyPicturesServicesLocalFilesManager* value);
GList* show_my_pictures_services_library_manager_get_albums (ShowMyPicturesServicesLibraryManager* self);
GList* show_my_pictures_services_data_base_manager_get_albums (ShowMyPicturesServicesDataBaseManager* self);
static GObject * show_my_pictures_services_library_manager_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
ShowMyPicturesSettings* show_my_pictures_settings_get_default (void);
ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager_get_instance (void);
static void _show_my_pictures_services_library_manager_found_local_image_file_show_my_pictures_services_local_files_manager_found_image_file (ShowMyPicturesServicesLocalFilesManager* _sender, const gchar* path, gpointer self);
ShowMyPicturesServicesDataBaseManager* show_my_pictures_services_data_base_manager_get_instance (void);
static void _show_my_pictures_services_library_manager___lambda10_ (ShowMyPicturesServicesLibraryManager* self, ShowMyPicturesObjectsAlbum* album);
static void __show_my_pictures_services_library_manager___lambda10__show_my_pictures_services_data_base_manager_added_new_album (ShowMyPicturesServicesDataBaseManager* _sender, ShowMyPicturesObjectsAlbum* album, gpointer self);
static void show_my_pictures_services_library_manager_finalize (GObject * obj);
static void _vala_show_my_pictures_services_library_manager_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_show_my_pictures_services_library_manager_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


static ShowMyPicturesServicesLibraryManager* show_my_pictures_services_library_manager_construct (GType object_type) {
	ShowMyPicturesServicesLibraryManager * self = NULL;
#line 63 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	self = (ShowMyPicturesServicesLibraryManager*) g_object_new (object_type, NULL);
#line 63 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return self;
#line 215 "LibraryManager.c"
}


static ShowMyPicturesServicesLibraryManager* show_my_pictures_services_library_manager_new (void) {
#line 63 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return show_my_pictures_services_library_manager_construct (SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER);
#line 222 "LibraryManager.c"
}


static void show_my_pictures_services_library_manager_sync_library_content_data_free (gpointer _data) {
	ShowMyPicturesServicesLibraryManagerSyncLibraryContentData* _data_;
	_data_ = _data;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_object_unref0 (_data_->self);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_slice_free (ShowMyPicturesServicesLibraryManagerSyncLibraryContentData, _data_);
#line 233 "LibraryManager.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return self ? g_object_ref (self) : NULL;
#line 240 "LibraryManager.c"
}


void show_my_pictures_services_library_manager_sync_library_content (ShowMyPicturesServicesLibraryManager* self, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	ShowMyPicturesServicesLibraryManagerSyncLibraryContentData* _data_;
	ShowMyPicturesServicesLibraryManager* _tmp0_;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_data_ = g_slice_new0 (ShowMyPicturesServicesLibraryManagerSyncLibraryContentData);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, show_my_pictures_services_library_manager_sync_library_content);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, show_my_pictures_services_library_manager_sync_library_content_data_free);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_data_->self = _tmp0_;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_services_library_manager_sync_library_content_co (_data_);
#line 259 "LibraryManager.c"
}


void show_my_pictures_services_library_manager_sync_library_content_finish (ShowMyPicturesServicesLibraryManager* self, GAsyncResult* _res_) {
	ShowMyPicturesServicesLibraryManagerSyncLibraryContentData* _data_;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 267 "LibraryManager.c"
}


static void* __lambda5_ (ShowMyPicturesServicesLibraryManager* self) {
	void* result = NULL;
	ShowMyPicturesSettings* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
#line 68 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = self->priv->settings;
#line 68 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp1_ = show_my_pictures_settings_get_library_location (_tmp0_);
#line 68 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp2_ = _tmp1_;
#line 68 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_services_library_manager_scan_local_library_for_new_files (self, _tmp2_);
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	result = NULL;
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return result;
#line 288 "LibraryManager.c"
}


static gpointer ___lambda5__gthread_func (gpointer self) {
	gpointer result;
	result = __lambda5_ ((ShowMyPicturesServicesLibraryManager*) self);
#line 66 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_object_unref (self);
#line 66 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return result;
#line 299 "LibraryManager.c"
}


static gboolean show_my_pictures_services_library_manager_sync_library_content_co (ShowMyPicturesServicesLibraryManagerSyncLibraryContentData* _data_) {
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	switch (_data_->_state_) {
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		case 0:
#line 308 "LibraryManager.c"
		goto _state_0;
		default:
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		g_assert_not_reached ();
#line 313 "LibraryManager.c"
	}
	_state_0:
#line 66 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_data_->_tmp0_ = g_thread_new (NULL, ___lambda5__gthread_func, g_object_ref (_data_->self));
#line 66 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_data_->_tmp1_ = _data_->_tmp0_;
#line 66 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_thread_unref0 (_data_->_tmp1_);
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	if (_data_->_state_ == 0) {
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 326 "LibraryManager.c"
	} else {
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 330 "LibraryManager.c"
	}
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_object_unref (_data_->_async_result);
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return FALSE;
#line 336 "LibraryManager.c"
}


void show_my_pictures_services_library_manager_found_local_image_file (ShowMyPicturesServicesLibraryManager* self, const gchar* path) {
	ShowMyPicturesServicesDataBaseManager* _tmp0_;
	const gchar* _tmp1_;
	gboolean _tmp2_;
#line 73 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (self != NULL);
#line 73 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (path != NULL);
#line 75 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = self->priv->_db_manager;
#line 75 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp1_ = path;
#line 75 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp2_ = show_my_pictures_services_data_base_manager_picture_file_exists (_tmp0_, _tmp1_);
#line 75 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	if (!_tmp2_) {
#line 356 "LibraryManager.c"
		const gchar* _tmp3_;
#line 76 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp3_ = path;
#line 76 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		show_my_pictures_services_library_manager_insert_picture_file (self, _tmp3_);
#line 362 "LibraryManager.c"
	}
}


void show_my_pictures_services_library_manager_scan_local_library_for_new_files (ShowMyPicturesServicesLibraryManager* self, const gchar* path) {
	ShowMyPicturesServicesLocalFilesManager* _tmp0_;
	const gchar* _tmp1_;
#line 82 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (self != NULL);
#line 82 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (path != NULL);
#line 83 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = self->priv->_lf_manager;
#line 83 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp1_ = path;
#line 83 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_services_local_files_manager_scan (_tmp0_, _tmp1_);
#line 380 "LibraryManager.c"
}


static void show_my_pictures_services_library_manager_insert_picture_file (ShowMyPicturesServicesLibraryManager* self, const gchar* path) {
	gchar* mime_type = NULL;
	gchar* _tmp0_;
	ShowMyPicturesObjectsPicture* picture = NULL;
	ShowMyPicturesObjectsPicture* _tmp1_;
	ShowMyPicturesObjectsPicture* _tmp2_;
	const gchar* _tmp3_;
	ShowMyPicturesObjectsPicture* _tmp4_;
	const gchar* _tmp5_;
	ShowMyPicturesObjectsAlbum* album = NULL;
	ShowMyPicturesObjectsAlbum* _tmp6_;
	ShowMyPicturesObjectsAlbum* _tmp7_;
	ShowMyPicturesObjectsPicture* _tmp8_;
	gint _tmp9_;
	gint _tmp10_;
	ShowMyPicturesObjectsAlbum* _tmp11_;
	ShowMyPicturesObjectsPicture* _tmp12_;
	gint _tmp13_;
	gint _tmp14_;
	ShowMyPicturesObjectsAlbum* _tmp15_;
	ShowMyPicturesObjectsPicture* _tmp16_;
	gint _tmp17_;
	gint _tmp18_;
	ShowMyPicturesObjectsAlbum* _tmp19_;
	ShowMyPicturesObjectsAlbum* _tmp20_;
	gint _tmp21_;
	gint _tmp22_;
	ShowMyPicturesObjectsAlbum* _tmp23_;
	gint _tmp24_;
	gint _tmp25_;
	ShowMyPicturesObjectsAlbum* _tmp26_;
	gint _tmp27_;
	gint _tmp28_;
	gchar* _tmp29_;
	gchar* _tmp30_;
	ShowMyPicturesServicesDataBaseManager* _tmp31_;
	ShowMyPicturesObjectsAlbum* _tmp32_;
	ShowMyPicturesObjectsAlbum* _tmp33_;
	ShowMyPicturesObjectsAlbum* _tmp34_;
	gint _tmp35_;
	gint _tmp36_;
#line 86 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (self != NULL);
#line 86 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (path != NULL);
#line 87 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = g_strdup ("");
#line 87 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	mime_type = _tmp0_;
#line 89 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp1_ = show_my_pictures_objects_picture_new (NULL);
#line 89 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	picture = _tmp1_;
#line 90 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp2_ = picture;
#line 90 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp3_ = path;
#line 90 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_objects_picture_set_path (_tmp2_, _tmp3_);
#line 91 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp4_ = picture;
#line 91 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp5_ = mime_type;
#line 91 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_objects_picture_set_mime_type (_tmp4_, _tmp5_);
#line 93 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp6_ = show_my_pictures_objects_album_new ("");
#line 93 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	album = _tmp6_;
#line 94 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp7_ = album;
#line 94 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp8_ = picture;
#line 94 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp9_ = show_my_pictures_objects_picture_get_year (_tmp8_);
#line 94 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp10_ = _tmp9_;
#line 94 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_objects_album_set_year (_tmp7_, _tmp10_);
#line 95 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp11_ = album;
#line 95 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp12_ = picture;
#line 95 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp13_ = show_my_pictures_objects_picture_get_month (_tmp12_);
#line 95 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp14_ = _tmp13_;
#line 95 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_objects_album_set_month (_tmp11_, _tmp14_);
#line 96 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp15_ = album;
#line 96 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp16_ = picture;
#line 96 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp17_ = show_my_pictures_objects_picture_get_day (_tmp16_);
#line 96 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp18_ = _tmp17_;
#line 96 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_objects_album_set_day (_tmp15_, _tmp18_);
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp19_ = album;
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp20_ = album;
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp21_ = show_my_pictures_objects_album_get_year (_tmp20_);
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp22_ = _tmp21_;
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp23_ = album;
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp24_ = show_my_pictures_objects_album_get_month (_tmp23_);
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp25_ = _tmp24_;
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp26_ = album;
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp27_ = show_my_pictures_objects_album_get_day (_tmp26_);
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp28_ = _tmp27_;
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp29_ = show_my_pictures_utils_get_default_album_title (_tmp22_, _tmp25_, _tmp28_);
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp30_ = _tmp29_;
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_objects_album_set_title (_tmp19_, _tmp30_);
#line 97 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_free0 (_tmp30_);
#line 99 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp31_ = self->priv->_db_manager;
#line 99 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp32_ = album;
#line 99 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp33_ = show_my_pictures_services_data_base_manager_insert_album_if_not_exists (_tmp31_, _tmp32_);
#line 99 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_object_unref0 (album);
#line 99 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	album = _tmp33_;
#line 101 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp34_ = album;
#line 101 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp35_ = show_my_pictures_objects_album_get_ID (_tmp34_);
#line 101 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp36_ = _tmp35_;
#line 101 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	if (_tmp36_ > 0) {
#line 529 "LibraryManager.c"
		ShowMyPicturesObjectsAlbum* _tmp37_;
		ShowMyPicturesObjectsPicture* _tmp38_;
		ShowMyPicturesObjectsPicture* _tmp39_;
		gint _tmp40_;
		gint _tmp41_;
#line 102 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp37_ = album;
#line 102 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp38_ = picture;
#line 102 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		show_my_pictures_objects_album_add_picture_if_not_exists (_tmp37_, _tmp38_);
#line 103 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp39_ = picture;
#line 103 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp40_ = show_my_pictures_objects_picture_get_ID (_tmp39_);
#line 103 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp41_ = _tmp40_;
#line 103 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		if (_tmp41_ > 0) {
#line 549 "LibraryManager.c"
			ShowMyPicturesObjectsPicture* _tmp42_;
#line 104 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
			_tmp42_ = picture;
#line 104 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
			show_my_pictures_objects_picture_create_preview (_tmp42_, NULL, NULL);
#line 555 "LibraryManager.c"
		}
	}
#line 86 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_object_unref0 (album);
#line 86 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_object_unref0 (picture);
#line 86 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_free0 (mime_type);
#line 564 "LibraryManager.c"
}


ShowMyPicturesServicesLibraryManager* show_my_pictures_services_library_manager_get_instance (void) {
	ShowMyPicturesServicesLibraryManager* result;
	ShowMyPicturesServicesLibraryManager* _tmp0_;
	ShowMyPicturesServicesLibraryManager* _tmp2_;
#line 35 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = show_my_pictures_services_library_manager__instance;
#line 35 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	if (_tmp0_ == NULL) {
#line 576 "LibraryManager.c"
		ShowMyPicturesServicesLibraryManager* _tmp1_;
#line 36 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp1_ = show_my_pictures_services_library_manager_new ();
#line 36 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_g_object_unref0 (show_my_pictures_services_library_manager__instance);
#line 36 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		show_my_pictures_services_library_manager__instance = _tmp1_;
#line 584 "LibraryManager.c"
	}
#line 38 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp2_ = show_my_pictures_services_library_manager__instance;
#line 38 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	result = _tmp2_;
#line 38 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return result;
#line 592 "LibraryManager.c"
}


ShowMyPicturesServicesDataBaseManager* show_my_pictures_services_library_manager_get_db_manager (ShowMyPicturesServicesLibraryManager* self) {
	ShowMyPicturesServicesDataBaseManager* result;
	ShowMyPicturesServicesDataBaseManager* _tmp0_;
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = self->priv->_db_manager;
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	result = _tmp0_;
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return result;
#line 607 "LibraryManager.c"
}


void show_my_pictures_services_library_manager_set_db_manager (ShowMyPicturesServicesLibraryManager* self, ShowMyPicturesServicesDataBaseManager* value) {
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (self != NULL);
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	if (show_my_pictures_services_library_manager_get_db_manager (self) != value) {
#line 616 "LibraryManager.c"
		ShowMyPicturesServicesDataBaseManager* _tmp0_;
		ShowMyPicturesServicesDataBaseManager* _tmp1_;
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp0_ = value;
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp1_ = _g_object_ref0 (_tmp0_);
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_g_object_unref0 (self->priv->_db_manager);
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		self->priv->_db_manager = _tmp1_;
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		g_object_notify ((GObject *) self, "db-manager");
#line 629 "LibraryManager.c"
	}
}


ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_library_manager_get_lf_manager (ShowMyPicturesServicesLibraryManager* self) {
	ShowMyPicturesServicesLocalFilesManager* result;
	ShowMyPicturesServicesLocalFilesManager* _tmp0_;
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = self->priv->_lf_manager;
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	result = _tmp0_;
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return result;
#line 645 "LibraryManager.c"
}


void show_my_pictures_services_library_manager_set_lf_manager (ShowMyPicturesServicesLibraryManager* self, ShowMyPicturesServicesLocalFilesManager* value) {
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (self != NULL);
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	if (show_my_pictures_services_library_manager_get_lf_manager (self) != value) {
#line 654 "LibraryManager.c"
		ShowMyPicturesServicesLocalFilesManager* _tmp0_;
		ShowMyPicturesServicesLocalFilesManager* _tmp1_;
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp0_ = value;
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_tmp1_ = _g_object_ref0 (_tmp0_);
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		_g_object_unref0 (self->priv->_lf_manager);
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		self->priv->_lf_manager = _tmp1_;
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		g_object_notify ((GObject *) self, "lf-manager");
#line 667 "LibraryManager.c"
	}
}


GList* show_my_pictures_services_library_manager_get_albums (ShowMyPicturesServicesLibraryManager* self) {
	GList* result;
	ShowMyPicturesServicesDataBaseManager* _tmp0_;
	GList* _tmp1_;
	GList* _tmp2_;
#line 48 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 49 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = self->priv->_db_manager;
#line 49 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp1_ = show_my_pictures_services_data_base_manager_get_albums (_tmp0_);
#line 49 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp2_ = _tmp1_;
#line 49 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	result = _tmp2_;
#line 49 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return result;
#line 689 "LibraryManager.c"
}


static void _show_my_pictures_services_library_manager_found_local_image_file_show_my_pictures_services_local_files_manager_found_image_file (ShowMyPicturesServicesLocalFilesManager* _sender, const gchar* path, gpointer self) {
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_services_library_manager_found_local_image_file ((ShowMyPicturesServicesLibraryManager*) self, path);
#line 696 "LibraryManager.c"
}


static void _show_my_pictures_services_library_manager___lambda10_ (ShowMyPicturesServicesLibraryManager* self, ShowMyPicturesObjectsAlbum* album) {
	ShowMyPicturesObjectsAlbum* _tmp0_;
#line 60 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_return_if_fail (album != NULL);
#line 60 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = album;
#line 60 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_signal_emit (self, show_my_pictures_services_library_manager_signals[SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_ADDED_NEW_ALBUM_SIGNAL], 0, _tmp0_);
#line 708 "LibraryManager.c"
}


static void __show_my_pictures_services_library_manager___lambda10__show_my_pictures_services_data_base_manager_added_new_album (ShowMyPicturesServicesDataBaseManager* _sender, ShowMyPicturesObjectsAlbum* album, gpointer self) {
#line 60 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_show_my_pictures_services_library_manager___lambda10_ ((ShowMyPicturesServicesLibraryManager*) self, album);
#line 715 "LibraryManager.c"
}


static GObject * show_my_pictures_services_library_manager_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	ShowMyPicturesServicesLibraryManager * self;
	ShowMyPicturesSettings* _tmp0_;
	ShowMyPicturesServicesLocalFilesManager* _tmp1_;
	ShowMyPicturesServicesLocalFilesManager* _tmp2_;
	ShowMyPicturesServicesLocalFilesManager* _tmp3_;
	ShowMyPicturesServicesDataBaseManager* _tmp4_;
	ShowMyPicturesServicesDataBaseManager* _tmp5_;
	ShowMyPicturesServicesDataBaseManager* _tmp6_;
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	parent_class = G_OBJECT_CLASS (show_my_pictures_services_library_manager_parent_class);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, ShowMyPicturesServicesLibraryManager);
#line 54 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp0_ = show_my_pictures_settings_get_default ();
#line 54 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_object_unref0 (self->priv->settings);
#line 54 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	self->priv->settings = _tmp0_;
#line 56 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp1_ = show_my_pictures_services_local_files_manager_get_instance ();
#line 56 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp2_ = _tmp1_;
#line 56 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_services_library_manager_set_lf_manager (self, _tmp2_);
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp3_ = self->priv->_lf_manager;
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_signal_connect_object (_tmp3_, "found-image-file", (GCallback) _show_my_pictures_services_library_manager_found_local_image_file_show_my_pictures_services_local_files_manager_found_image_file, self, 0);
#line 59 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp4_ = show_my_pictures_services_data_base_manager_get_instance ();
#line 59 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp5_ = _tmp4_;
#line 59 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_services_library_manager_set_db_manager (self, _tmp5_);
#line 60 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_tmp6_ = self->priv->_db_manager;
#line 60 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_signal_connect_object (_tmp6_, "added-new-album", (GCallback) __show_my_pictures_services_library_manager___lambda10__show_my_pictures_services_data_base_manager_added_new_album, self, 0);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	return obj;
#line 764 "LibraryManager.c"
}


static void show_my_pictures_services_library_manager_class_init (ShowMyPicturesServicesLibraryManagerClass * klass) {
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_services_library_manager_parent_class = g_type_class_peek_parent (klass);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_type_class_add_private (klass, sizeof (ShowMyPicturesServicesLibraryManagerPrivate));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_show_my_pictures_services_library_manager_get_property;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_show_my_pictures_services_library_manager_set_property;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	G_OBJECT_CLASS (klass)->constructor = show_my_pictures_services_library_manager_constructor;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	G_OBJECT_CLASS (klass)->finalize = show_my_pictures_services_library_manager_finalize;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_DB_MANAGER_PROPERTY, g_param_spec_object ("db-manager", "db-manager", "db-manager", SHOW_MY_PICTURES_SERVICES_TYPE_DATA_BASE_MANAGER, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_LF_MANAGER_PROPERTY, g_param_spec_object ("lf-manager", "lf-manager", "lf-manager", SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_ALBUMS_PROPERTY, g_param_spec_pointer ("albums", "albums", "albums", G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	show_my_pictures_services_library_manager_signals[SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_ADDED_NEW_ALBUM_SIGNAL] = g_signal_new ("added-new-album", SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SHOW_MY_PICTURES_OBJECTS_TYPE_ALBUM);
#line 789 "LibraryManager.c"
}


static void show_my_pictures_services_library_manager_instance_init (ShowMyPicturesServicesLibraryManager * self) {
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	self->priv = SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_GET_PRIVATE (self);
#line 796 "LibraryManager.c"
}


static void show_my_pictures_services_library_manager_finalize (GObject * obj) {
	ShowMyPicturesServicesLibraryManager * self;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, ShowMyPicturesServicesLibraryManager);
#line 30 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_object_unref0 (self->priv->settings);
#line 44 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_object_unref0 (self->priv->_db_manager);
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	_g_object_unref0 (self->priv->_lf_manager);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	G_OBJECT_CLASS (show_my_pictures_services_library_manager_parent_class)->finalize (obj);
#line 812 "LibraryManager.c"
}


GType show_my_pictures_services_library_manager_get_type (void) {
	static volatile gsize show_my_pictures_services_library_manager_type_id__volatile = 0;
	if (g_once_init_enter (&show_my_pictures_services_library_manager_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ShowMyPicturesServicesLibraryManagerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) show_my_pictures_services_library_manager_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ShowMyPicturesServicesLibraryManager), 0, (GInstanceInitFunc) show_my_pictures_services_library_manager_instance_init, NULL };
		GType show_my_pictures_services_library_manager_type_id;
		show_my_pictures_services_library_manager_type_id = g_type_register_static (G_TYPE_OBJECT, "ShowMyPicturesServicesLibraryManager", &g_define_type_info, 0);
		g_once_init_leave (&show_my_pictures_services_library_manager_type_id__volatile, show_my_pictures_services_library_manager_type_id);
	}
	return show_my_pictures_services_library_manager_type_id__volatile;
}


static void _vala_show_my_pictures_services_library_manager_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	ShowMyPicturesServicesLibraryManager * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, ShowMyPicturesServicesLibraryManager);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	switch (property_id) {
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		case SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_DB_MANAGER_PROPERTY:
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		g_value_set_object (value, show_my_pictures_services_library_manager_get_db_manager (self));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		break;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		case SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_LF_MANAGER_PROPERTY:
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		g_value_set_object (value, show_my_pictures_services_library_manager_get_lf_manager (self));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		break;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		case SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_ALBUMS_PROPERTY:
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		g_value_set_pointer (value, show_my_pictures_services_library_manager_get_albums (self));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		break;
#line 851 "LibraryManager.c"
		default:
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		break;
#line 857 "LibraryManager.c"
	}
}


static void _vala_show_my_pictures_services_library_manager_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	ShowMyPicturesServicesLibraryManager * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SHOW_MY_PICTURES_SERVICES_TYPE_LIBRARY_MANAGER, ShowMyPicturesServicesLibraryManager);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
	switch (property_id) {
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		case SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_DB_MANAGER_PROPERTY:
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		show_my_pictures_services_library_manager_set_db_manager (self, g_value_get_object (value));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		break;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		case SHOW_MY_PICTURES_SERVICES_LIBRARY_MANAGER_LF_MANAGER_PROPERTY:
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		show_my_pictures_services_library_manager_set_lf_manager (self, g_value_get_object (value));
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		break;
#line 879 "LibraryManager.c"
		default:
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LibraryManager.vala"
		break;
#line 885 "LibraryManager.c"
	}
}



