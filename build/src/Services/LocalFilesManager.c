/* LocalFilesManager.c generated by valac 0.36.8, the Vala compiler
 * generated from LocalFilesManager.vala, do not modify */

/*-
 * Copyright (c) 2018-2018 Artem Anufrij <artem.anufrij@live.de>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * The Noise authors hereby grant permission for non-GPL compatible
 * GStreamer plugins to be used and distributed together with GStreamer
 * and Noise. This permission is above and beyond the permissions granted
 * by the GPL license by which Noise is covered. If you modify this code
 * you may extend this exception to your version of the code, but you are not
 * obligated to do so. If you do not wish to do so, delete this exception
 * statement from your version.
 *
 * Authored by: Artem Anufrij <artem.anufrij@live.de>
 */

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>


#define SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER (show_my_pictures_services_local_files_manager_get_type ())
#define SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, ShowMyPicturesServicesLocalFilesManager))
#define SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, ShowMyPicturesServicesLocalFilesManagerClass))
#define SHOW_MY_PICTURES_SERVICES_IS_LOCAL_FILES_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER))
#define SHOW_MY_PICTURES_SERVICES_IS_LOCAL_FILES_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER))
#define SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, ShowMyPicturesServicesLocalFilesManagerClass))

typedef struct _ShowMyPicturesServicesLocalFilesManager ShowMyPicturesServicesLocalFilesManager;
typedef struct _ShowMyPicturesServicesLocalFilesManagerClass ShowMyPicturesServicesLocalFilesManagerClass;
typedef struct _ShowMyPicturesServicesLocalFilesManagerPrivate ShowMyPicturesServicesLocalFilesManagerPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _Block3Data Block3Data;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_thread_unref0(var) ((var == NULL) ? NULL : (var = (g_thread_unref (var), NULL)))
enum  {
	SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_SCAN_STARTED_SIGNAL,
	SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_FOUND_IMAGE_FILE_SIGNAL,
	SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_NUM_SIGNALS
};
static guint show_my_pictures_services_local_files_manager_signals[SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_NUM_SIGNALS] = {0};

struct _ShowMyPicturesServicesLocalFilesManager {
	GObject parent_instance;
	ShowMyPicturesServicesLocalFilesManagerPrivate * priv;
};

struct _ShowMyPicturesServicesLocalFilesManagerClass {
	GObjectClass parent_class;
};

struct _Block3Data {
	int _ref_count_;
	ShowMyPicturesServicesLocalFilesManager* self;
	gchar* path;
};


static gpointer show_my_pictures_services_local_files_manager_parent_class = NULL;
static ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager__instance;
static ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager__instance = NULL;

GType show_my_pictures_services_local_files_manager_get_type (void) G_GNUC_CONST;
enum  {
	SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_0_PROPERTY
};
static ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager_new (void);
static ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager_construct (GType object_type);
void show_my_pictures_services_local_files_manager_scan (ShowMyPicturesServicesLocalFilesManager* self, const gchar* path);
static void show_my_pictures_services_local_files_manager_scan_local_files (ShowMyPicturesServicesLocalFilesManager* self, const gchar* path);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
static void* __lambda4_ (Block3Data* _data3_);
static gpointer ___lambda4__gthread_func (gpointer self);
ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager_get_instance (void);
static void show_my_pictures_services_local_files_manager_finalize (GObject * obj);
static void _vala_show_my_pictures_services_local_files_manager_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);


static ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager_construct (GType object_type) {
	ShowMyPicturesServicesLocalFilesManager * self = NULL;
#line 43 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	self = (ShowMyPicturesServicesLocalFilesManager*) g_object_new (object_type, NULL);
#line 43 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	return self;
#line 104 "LocalFilesManager.c"
}


static ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager_new (void) {
#line 43 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	return show_my_pictures_services_local_files_manager_construct (SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER);
#line 111 "LocalFilesManager.c"
}


void show_my_pictures_services_local_files_manager_scan (ShowMyPicturesServicesLocalFilesManager* self, const gchar* path) {
	const gchar* _tmp0_;
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	g_return_if_fail (self != NULL);
#line 45 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	g_return_if_fail (path != NULL);
#line 46 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	g_signal_emit (self, show_my_pictures_services_local_files_manager_signals[SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_SCAN_STARTED_SIGNAL], 0);
#line 47 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp0_ = path;
#line 47 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	show_my_pictures_services_local_files_manager_scan_local_files (self, _tmp0_);
#line 127 "LocalFilesManager.c"
}


static Block3Data* block3_data_ref (Block3Data* _data3_) {
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	g_atomic_int_inc (&_data3_->_ref_count_);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	return _data3_;
#line 136 "LocalFilesManager.c"
}


static void block3_data_unref (void * _userdata_) {
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
#line 145 "LocalFilesManager.c"
		ShowMyPicturesServicesLocalFilesManager* self;
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		self = _data3_->self;
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_g_free0 (_data3_->path);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_g_object_unref0 (self);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		g_slice_free (Block3Data, _data3_);
#line 155 "LocalFilesManager.c"
	}
}


static void* __lambda4_ (Block3Data* _data3_) {
	ShowMyPicturesServicesLocalFilesManager* self;
	void* result = NULL;
	GFile* directory = NULL;
	const gchar* _tmp0_;
	GFile* _tmp1_;
	GFile* _tmp50_;
	GError * _inner_error_ = NULL;
#line 51 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	self = _data3_->self;
#line 52 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp0_ = _data3_->path;
#line 52 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp1_ = g_file_new_for_path (_tmp0_);
#line 52 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	directory = _tmp1_;
#line 176 "LocalFilesManager.c"
	{
		GFileEnumerator* children = NULL;
		GFile* _tmp2_;
		GFileEnumerator* _tmp3_;
		GFileInfo* file_info = NULL;
		GFileEnumerator* _tmp46_;
		GFileEnumerator* _tmp47_;
#line 54 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_tmp2_ = directory;
#line 54 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_tmp3_ = g_file_enumerate_children (_tmp2_, G_FILE_ATTRIBUTE_STANDARD_CONTENT_TYPE "," G_FILE_ATTRIBUTE_STANDARD_IS_HIDDEN "," G_FILE_ATTRIBUTE_STANDARD_IS_SYMLINK "," G_FILE_ATTRIBUTE_STANDARD_SYMLINK_TARGET, G_FILE_QUERY_INFO_NONE, NULL, &_inner_error_);
#line 54 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		children = _tmp3_;
#line 54 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 192 "LocalFilesManager.c"
			goto __catch9_g_error;
		}
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		while (TRUE) {
#line 197 "LocalFilesManager.c"
			GFileInfo* _tmp4_ = NULL;
			GFileEnumerator* _tmp5_;
			GFileInfo* _tmp6_;
			GFileInfo* _tmp7_;
			GFileInfo* _tmp8_;
			GFileInfo* _tmp9_;
			gboolean _tmp10_;
			GFileInfo* _tmp11_;
			gboolean _tmp12_;
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp5_ = children;
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp6_ = g_file_enumerator_next_file (_tmp5_, NULL, &_inner_error_);
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp4_ = _tmp6_;
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_g_object_unref0 (file_info);
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_g_object_unref0 (children);
#line 219 "LocalFilesManager.c"
				goto __catch9_g_error;
			}
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp7_ = _tmp4_;
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp4_ = NULL;
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_g_object_unref0 (file_info);
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			file_info = _tmp7_;
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp8_ = file_info;
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			if (!(_tmp8_ != NULL)) {
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_g_object_unref0 (_tmp4_);
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				break;
#line 238 "LocalFilesManager.c"
			}
#line 58 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp9_ = file_info;
#line 58 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp10_ = g_file_info_get_is_hidden (_tmp9_);
#line 58 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			if (_tmp10_) {
#line 59 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_g_object_unref0 (_tmp4_);
#line 59 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				continue;
#line 250 "LocalFilesManager.c"
			}
#line 61 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp11_ = file_info;
#line 61 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_tmp12_ = g_file_info_get_is_symlink (_tmp11_);
#line 61 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			if (_tmp12_) {
#line 258 "LocalFilesManager.c"
				gchar* target = NULL;
				GFileInfo* _tmp13_;
				const gchar* _tmp14_;
				gchar* _tmp15_;
				GFile* symlink = NULL;
				const gchar* _tmp16_;
				GFile* _tmp17_;
				GFileType file_type = 0;
				GFile* _tmp18_;
				GFileType _tmp19_;
				GFileType _tmp20_;
#line 62 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp13_ = file_info;
#line 62 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp14_ = g_file_info_get_symlink_target (_tmp13_);
#line 62 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp15_ = g_strdup (_tmp14_);
#line 62 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				target = _tmp15_;
#line 63 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp16_ = target;
#line 63 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp17_ = g_file_new_for_path (_tmp16_);
#line 63 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				symlink = _tmp17_;
#line 64 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp18_ = symlink;
#line 64 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp19_ = g_file_query_file_type (_tmp18_, 0, NULL);
#line 64 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				file_type = _tmp19_;
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp20_ = file_type;
#line 65 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				if (_tmp20_ == G_FILE_TYPE_DIRECTORY) {
#line 294 "LocalFilesManager.c"
					const gchar* _tmp21_;
#line 66 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp21_ = target;
#line 66 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					show_my_pictures_services_local_files_manager_scan_local_files (self, _tmp21_);
#line 300 "LocalFilesManager.c"
				}
#line 61 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_g_object_unref0 (symlink);
#line 61 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_g_free0 (target);
#line 306 "LocalFilesManager.c"
			} else {
				GFileInfo* _tmp22_;
				GFileType _tmp23_;
#line 68 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp22_ = file_info;
#line 68 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				_tmp23_ = g_file_info_get_file_type (_tmp22_);
#line 68 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
				if (_tmp23_ == G_FILE_TYPE_DIRECTORY) {
#line 316 "LocalFilesManager.c"
					const gchar* _tmp24_;
					GFileInfo* _tmp25_;
					const gchar* _tmp26_;
					gchar* _tmp27_;
					gchar* _tmp28_;
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp24_ = _data3_->path;
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp25_ = file_info;
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp26_ = g_file_info_get_name (_tmp25_);
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp27_ = g_build_filename (_tmp24_, _tmp26_, NULL);
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp28_ = _tmp27_;
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					show_my_pictures_services_local_files_manager_scan_local_files (self, _tmp28_);
#line 69 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_g_free0 (_tmp28_);
#line 336 "LocalFilesManager.c"
				} else {
					gchar* mime_type = NULL;
					GFileInfo* _tmp29_;
					const gchar* _tmp30_;
					gchar* _tmp31_;
					gboolean _tmp32_ = FALSE;
					GFileInfo* _tmp33_;
					gboolean _tmp34_;
					gboolean valid_file = FALSE;
					gboolean _tmp40_;
#line 71 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp29_ = file_info;
#line 71 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp30_ = g_file_info_get_content_type (_tmp29_);
#line 71 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp31_ = g_strdup (_tmp30_);
#line 71 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					mime_type = _tmp31_;
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp33_ = file_info;
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp34_ = g_file_info_get_is_hidden (_tmp33_);
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					if (!_tmp34_) {
#line 361 "LocalFilesManager.c"
						gboolean _tmp35_ = FALSE;
						const gchar* _tmp36_;
						gboolean _tmp37_;
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp36_ = mime_type;
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp37_ = g_str_has_prefix (_tmp36_, "image/png");
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						if (_tmp37_) {
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
							_tmp35_ = TRUE;
#line 373 "LocalFilesManager.c"
						} else {
							const gchar* _tmp38_;
							gboolean _tmp39_;
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
							_tmp38_ = mime_type;
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
							_tmp39_ = g_str_has_prefix (_tmp38_, "image/jpeg");
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
							_tmp35_ = _tmp39_;
#line 383 "LocalFilesManager.c"
						}
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp32_ = _tmp35_;
#line 387 "LocalFilesManager.c"
					} else {
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp32_ = FALSE;
#line 391 "LocalFilesManager.c"
					}
#line 72 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					valid_file = _tmp32_;
#line 73 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_tmp40_ = valid_file;
#line 73 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					if (_tmp40_) {
#line 399 "LocalFilesManager.c"
						gchar* found_path = NULL;
						const gchar* _tmp41_;
						GFileInfo* _tmp42_;
						const gchar* _tmp43_;
						gchar* _tmp44_;
						const gchar* _tmp45_;
#line 74 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp41_ = _data3_->path;
#line 74 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp42_ = file_info;
#line 74 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp43_ = g_file_info_get_name (_tmp42_);
#line 74 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp44_ = g_build_filename (_tmp41_, _tmp43_, NULL);
#line 74 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						found_path = _tmp44_;
#line 75 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_tmp45_ = found_path;
#line 75 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						g_signal_emit (self, show_my_pictures_services_local_files_manager_signals[SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_FOUND_IMAGE_FILE_SIGNAL], 0, _tmp45_);
#line 73 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
						_g_free0 (found_path);
#line 422 "LocalFilesManager.c"
					}
#line 68 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
					_g_free0 (mime_type);
#line 426 "LocalFilesManager.c"
				}
			}
#line 57 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_g_object_unref0 (_tmp4_);
#line 431 "LocalFilesManager.c"
		}
#line 79 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_tmp46_ = children;
#line 79 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		g_file_enumerator_close (_tmp46_, NULL, &_inner_error_);
#line 79 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 79 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_g_object_unref0 (file_info);
#line 79 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
			_g_object_unref0 (children);
#line 443 "LocalFilesManager.c"
			goto __catch9_g_error;
		}
#line 80 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_tmp47_ = children;
#line 80 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		g_object_run_dispose ((GObject*) _tmp47_);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_g_object_unref0 (file_info);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_g_object_unref0 (children);
#line 454 "LocalFilesManager.c"
	}
	goto __finally9;
	__catch9_g_error:
	{
		GError* err = NULL;
		GError* _tmp48_;
		const gchar* _tmp49_;
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		err = _inner_error_;
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_inner_error_ = NULL;
#line 82 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_tmp48_ = err;
#line 82 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_tmp49_ = _tmp48_->message;
#line 82 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		g_warning ("LocalFilesManager.vala:82: %s", _tmp49_);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_g_error_free0 (err);
#line 474 "LocalFilesManager.c"
	}
	__finally9:
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_g_object_unref0 (directory);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		g_clear_error (&_inner_error_);
#line 53 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		return NULL;
#line 487 "LocalFilesManager.c"
	}
#line 84 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp50_ = directory;
#line 84 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	g_object_run_dispose ((GObject*) _tmp50_);
#line 85 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	result = NULL;
#line 85 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_g_object_unref0 (directory);
#line 85 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	return result;
#line 499 "LocalFilesManager.c"
}


static gpointer ___lambda4__gthread_func (gpointer self) {
	gpointer result;
	result = __lambda4_ (self);
#line 51 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	block3_data_unref (self);
#line 51 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	return result;
#line 510 "LocalFilesManager.c"
}


static void show_my_pictures_services_local_files_manager_scan_local_files (ShowMyPicturesServicesLocalFilesManager* self, const gchar* path) {
	Block3Data* _data3_;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	GThread* _tmp2_;
	GThread* _tmp3_;
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	g_return_if_fail (self != NULL);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	g_return_if_fail (path != NULL);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_data3_ = g_slice_new0 (Block3Data);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_data3_->_ref_count_ = 1;
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_data3_->self = g_object_ref (self);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp0_ = path;
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_g_free0 (_data3_->path);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_data3_->path = _tmp1_;
#line 51 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp2_ = g_thread_new (NULL, ___lambda4__gthread_func, block3_data_ref (_data3_));
#line 51 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp3_ = _tmp2_;
#line 51 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_g_thread_unref0 (_tmp3_);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	block3_data_unref (_data3_);
#line 50 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_data3_ = NULL;
#line 548 "LocalFilesManager.c"
}


ShowMyPicturesServicesLocalFilesManager* show_my_pictures_services_local_files_manager_get_instance (void) {
	ShowMyPicturesServicesLocalFilesManager* result;
	ShowMyPicturesServicesLocalFilesManager* _tmp0_;
	ShowMyPicturesServicesLocalFilesManager* _tmp2_;
#line 33 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp0_ = show_my_pictures_services_local_files_manager__instance;
#line 33 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	if (_tmp0_ == NULL) {
#line 560 "LocalFilesManager.c"
		ShowMyPicturesServicesLocalFilesManager* _tmp1_;
#line 34 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_tmp1_ = show_my_pictures_services_local_files_manager_new ();
#line 34 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		_g_object_unref0 (show_my_pictures_services_local_files_manager__instance);
#line 34 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		show_my_pictures_services_local_files_manager__instance = _tmp1_;
#line 568 "LocalFilesManager.c"
	}
#line 36 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	_tmp2_ = show_my_pictures_services_local_files_manager__instance;
#line 36 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	result = _tmp2_;
#line 36 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	return result;
#line 576 "LocalFilesManager.c"
}


static void show_my_pictures_services_local_files_manager_class_init (ShowMyPicturesServicesLocalFilesManagerClass * klass) {
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	show_my_pictures_services_local_files_manager_parent_class = g_type_class_peek_parent (klass);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_show_my_pictures_services_local_files_manager_get_property;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	G_OBJECT_CLASS (klass)->finalize = show_my_pictures_services_local_files_manager_finalize;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	show_my_pictures_services_local_files_manager_signals[SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_SCAN_STARTED_SIGNAL] = g_signal_new ("scan-started", SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	show_my_pictures_services_local_files_manager_signals[SHOW_MY_PICTURES_SERVICES_LOCAL_FILES_MANAGER_FOUND_IMAGE_FILE_SIGNAL] = g_signal_new ("found-image-file", SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__STRING, G_TYPE_NONE, 1, G_TYPE_STRING);
#line 591 "LocalFilesManager.c"
}


static void show_my_pictures_services_local_files_manager_instance_init (ShowMyPicturesServicesLocalFilesManager * self) {
}


static void show_my_pictures_services_local_files_manager_finalize (GObject * obj) {
	ShowMyPicturesServicesLocalFilesManager * self;
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, ShowMyPicturesServicesLocalFilesManager);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	G_OBJECT_CLASS (show_my_pictures_services_local_files_manager_parent_class)->finalize (obj);
#line 605 "LocalFilesManager.c"
}


GType show_my_pictures_services_local_files_manager_get_type (void) {
	static volatile gsize show_my_pictures_services_local_files_manager_type_id__volatile = 0;
	if (g_once_init_enter (&show_my_pictures_services_local_files_manager_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ShowMyPicturesServicesLocalFilesManagerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) show_my_pictures_services_local_files_manager_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ShowMyPicturesServicesLocalFilesManager), 0, (GInstanceInitFunc) show_my_pictures_services_local_files_manager_instance_init, NULL };
		GType show_my_pictures_services_local_files_manager_type_id;
		show_my_pictures_services_local_files_manager_type_id = g_type_register_static (G_TYPE_OBJECT, "ShowMyPicturesServicesLocalFilesManager", &g_define_type_info, 0);
		g_once_init_leave (&show_my_pictures_services_local_files_manager_type_id__volatile, show_my_pictures_services_local_files_manager_type_id);
	}
	return show_my_pictures_services_local_files_manager_type_id__volatile;
}


static void _vala_show_my_pictures_services_local_files_manager_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	ShowMyPicturesServicesLocalFilesManager * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SHOW_MY_PICTURES_SERVICES_TYPE_LOCAL_FILES_MANAGER, ShowMyPicturesServicesLocalFilesManager);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
	switch (property_id) {
#line 626 "LocalFilesManager.c"
		default:
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 29 "/home/artem/Projekte/showmypictures/src/Services/LocalFilesManager.vala"
		break;
#line 632 "LocalFilesManager.c"
	}
}



